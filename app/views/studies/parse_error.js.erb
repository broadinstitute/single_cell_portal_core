$('<%= params[:modal_target]%>').modal('hide');

// replace form if expression file or primary cluster file, otherwise let user click button to create new instance
if ( '<%= params[:partial] %>' == 'initialize_assignments_form') {
	$("<%= params[:selector] %>").replaceWith("<%= escape_javascript( render params[:partial], study_file: @assignment_file) %>");
	resetWizardStep("<%= params[:partial] %>_nav");
else if ( '<%= params[:partial] %>' == 'initialize_clusters_form') {
	$("<%= params[:selector] %>").replaceWith("<%= escape_javascript( render params[:partial], study_file: @parent_cluster) %>");
	resetWizardStep("<%= params[:partial] %>_nav");
} else if ( '<%= params[:partial] %>' == 'initialize_expression_form') {
	$("<%= params[:selector] %>").replaceWith("<%= escape_javascript( render params[:partial], study_file: @expression_file) %>");
	resetWizardStep("<%= params[:partial] %>_nav");
} else {
	$("<%= params[:selector] %>").remove();
}

// render error message
$('#study-files-notice-target').html("<%= escape_javascript(render 'error_modal') %>");
$('#error-modal').modal({show: true, backdrop: 'static'});